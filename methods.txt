Experimentation on jupyternotebook : 

dataset : 10 normal WSI + 10 tumor WSI (w/ annotations)

Preprocessing :
    - Normal WSI:
        - tissue extraction
            - OTSU on Hue and Sat channel (HSV image)
            - creation of bounding boxes (tissue)
        - Patch extraction
            - random extraction in bb
            - 5 patches/bb
            - 299x299 patches(min size for inception v3)
        - Data augmentation on patches:
            - random rotation (90,180,270)
            - horizontal and/or vertical flipping
            - color jitering (FIND PARAMS IN LIT)
        - Results : 1360 patches without tumor
    - Tumor WSI:
        - ROI extraction
            - parsing of .xml annotation file
            - creation of bounding boxes (tumor regions)
        - Patch extraction
            - random extraction from tumor regions (from annotations)
                - 10 patches/bb
                - 299x299 patches(min size for inception v3)
            - random extraction from normal regions
                - 5 patches/bb
                - 299x299 patches(min size for inception v3)
        - Data augmentation on patches:
            - random rotation (90,180,270)
            - horizontal and/or vertical flipping
            - color jitering (FIND PARAMS IN LIT)
        - Results : 3480 patches with tumor / 1680 patches without tumor

Split of patches dataset :
    - Normal patches count:
        - Train: 2188
        - Validation: 244
        - Test: 608
    - Tumor patches count:
        - Train: 1670
        - Validation: 186
        - Test: 464

Model training :
    - loss = nn.CrossEntropyLoss()
    - optimizer = torch.optim.RMSprop(filter(lambda p: p.requires_grad, model.parameters()), lr=0.001)
    - batch_size = 5
    - Epoch [10/10] completed in 946.50 seconds
    - 154 min
Model testing :
    - Accuracy of test images: 86.387435 %

dataset structure ejbs1@its-2a30-01:
- /home/
    - /shared/
        - /camelyon16/
            - /training/
                - /normal/
                    - normal_001.tif ... normal_160.tif
                - /tumor/
                    - tumor_001.tif  ... tumor_111.tif
                - /lesion_annotations/
                    - tumor_001.xml  ... tumor_111.xml
            - /testing/
                - /images/
                    - test_001.tif ... test_130.tif
                - /lesion_annotations/
                    - test_001.xml ... test_122.xml
                - /evaluation/
                    - evaluation_FROC_old.py  evaluation_FROC.py  evaluation_masks.zip  evaluation_matlab.zip  evaluation_python.zip
                - reference.csv



