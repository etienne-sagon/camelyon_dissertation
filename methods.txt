Experimentation on jupyternotebook : 

dataset : 10 normal WSI + 10 tumor WSI (w/ annotations)

Preprocessing :
    - Normal WSI:
        - tissue extraction
            - OTSU on Hue and Sat channel (HSV image)
            - creation of bounding boxes (tissue)
        - Patch extraction
            - random extraction in bb
            - 10 patches/bb
            - 256x256 patches
        - Data augmentation on patches:
            - random rotation (90,180,270)
            - horizontal and/or vertical flipping
            - color jitering (FIND PARAMS IN LIT)
    - Tumor WSI:
        - ROI extraction
            - parsing of .xml annotation file
            - creation of bounding boxes (tumor regions)
        - Patch extraction
            - random extraction from tumor regions (from annotations)
                - 10 patches/bb
                - 256x256 patches
            - random extraction from normal regions
                - 10 patches/bb
                - 256x256 patches
        - Data augmentation on patches:
            - random rotation (90,180,270)
            - horizontal and/or vertical flipping
            - color jitering (FIND PARAMS IN LIT)

Split of patches dataset :
    - Normal patches count:
        - Train: ???
        - Validation: ???
        - Test: ???
    - Tumor patches count:
        - Train: ???
        - Validation: ???
        - Test: ???

Method :
FROM : :  HMS-MGH (I, II & III)
GoogLeNet
Parameters:
- optimization method: SGD
- Weight initialization: Pre-trained model with the ImageNet
- Batch size: 64 (or 32 if smaller dataset)
- Regularization: L2 with 0.0002
- Learning rate: 0.001 and divided by 10 when the error plateaued
- Activation function: ReLu
- Loss function: Cross-entropy

Model training :
    - loss = nn.CrossEntropyLoss()
    - optimizer = torch.optim.RMSprop(filter(lambda p: p.requires_grad, model.parameters()), lr=0.001)
    - batch_size = 5
    - Epoch [10/10] completed in 946.50 seconds
    - 154 min
Model testing :
    - Accuracy of test images: 86.387435 %

dataset structure ejbs1@its-2a30-01:
- /home/
    - /shared/
        - /camelyon16/
            - /training/
                - /normal/
                    - normal_001.tif ... normal_160.tif
                - /tumor/
                    - tumor_001.tif  ... tumor_111.tif
                - /lesion_annotations/
                    - tumor_001.xml  ... tumor_111.xml
            - /testing/
                - /images/
                    - test_001.tif ... test_130.tif
                - /lesion_annotations/
                    - test_001.xml ... test_122.xml
                - /evaluation/
                    - evaluation_FROC_old.py  evaluation_FROC.py  evaluation_masks.zip  evaluation_matlab.zip  evaluation_python.zip
                - reference.csv



